# Nixpacks Configuration for Railway
# Prevents Prisma from running during build phase

[phases.setup]
nixPkgs = ['nodejs_20']

[phases.install]
cmds = ['npm ci']

[phases.build]
# Empty build phase - no Prisma commands here
cmds = []

[start]
# All Prisma commands run here where DATABASE_URL is available
cmd = 'npx prisma generate && npx prisma migrate deploy && node index.js'
